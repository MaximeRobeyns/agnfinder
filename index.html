<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AGN Finder documentation &mdash; AGN Finder Documentation 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon-32x32.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1. Installation Guide" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #FFFFFF" >
            <a href="#" class="icon icon-home"> AGN Finder Documentation
            <img src="_static/base_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">1. Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_usage.html">2. Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling.html">3. Photometry Sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="inference.html">4. Inference Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="san_inference.html">5. Inferring Galaxy Parameters (SAN)</a></li>
<li class="toctree-l1"><a class="reference internal" href="cvae_inference.html">6. Inferring Galaxy Parameters (CVAE)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #FFFFFF" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">AGN Finder Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
      <li>AGN Finder documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p><a class="reference external" href="https://github.com/MaximeRobeyns/agnfinder">GitHub Project</a></p>
<section id="agn-finder-documentation">
<h1>AGN Finder documentation<a class="headerlink" href="#agn-finder-documentation" title="Permalink to this headline"></a></h1>
<p>Welcome to the agnfinder documentation!</p>
<hr class="docutils" />
<p>If you’re looking for installation instructions, please see the <a class="reference external" href="installation.html">installation</a> page.</p>
<hr class="docutils" />
<p>This is a fork of the original AGNFinder project by Mike Walmsey and
collaborators, which aims to use (conditional) generative modelling techniques to
map from photometry to distributions over physical parameters <span class="math notranslate nohighlight">\(\theta\)</span>.</p>
<p>There are broadly two components:</p>
<ol class="arabic">
<li><p><strong>Simulation and Dataset Creation</strong></p>
<p>The first section is for <em>simulation</em>, where you can create a dataset
of simulated <span class="math notranslate nohighlight">\((\text{galaxy parmeter}, \text{photometry})\)</span> pairs.
This uses <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2021ApJS..254...22J/abstract">Prospector</a> behind the
scenes, and should be the first step if you are installing and running this
repository for the first time.</p>
<p>See the <a class="reference external" href="/sampling.html">Photometry Sampling</a> section for more details about
this stage.</p>
</li>
<li><p><strong>Inference</strong></p>
<p>In this second section of the codebase we deal with the task of estimating
the distribution over physical galaxy parameters, which we denote
<span class="math notranslate nohighlight">\(\mathbf{y}\)</span>, given photometric observations <span class="math notranslate nohighlight">\(\mathbf{x}\)</span>; that
is, estimating
<span class="math notranslate nohighlight">\(p(\mathbf{y} \vert \mathbf{x})\)</span>.</p>
<p>This is a standard supervised machine learning setup. There are several
candidate models in the codebase, and the code has been structured such that
it is easy to implement new models, and compare them to the existing methods.</p>
<p>To see how to do this, and for an overview of the existing models, please
read the <a class="reference external" href="/inference.html">Inference</a> page.</p>
</li>
</ol>
<section id="configurations">
<h2>Configurations<a class="headerlink" href="#configurations" title="Permalink to this headline"></a></h2>
<p>In this project, we take a <em>configuration-as-code</em> approach, where the program’s
configuration is in <code class="docutils literal notranslate"><span class="pre">agnfinder/config.py</span></code>.</p>
<p>The main reasons for doing it this way are that:</p>
<ul class="simple">
<li><p>configurations are all located in one place instead of being scattered around
the code</p></li>
<li><p>the program arguments and parameters are maintained in version control, as an
example for new users and a reference for old users</p></li>
<li><p>there are no long command line arguments to type by hand, and configurations
don’t litter submission scripts and <code class="docutils literal notranslate"><span class="pre">Makefiles</span></code>.</p></li>
<li><p>you can evaluate arbitrary code to set configuration values. (In general
this is a security risk, but not for this application.)</p></li>
</ul>
<p>This is by no means perfect, and many folks prefer to do things differently. If
this is the case, you are welcome to modify your <code class="docutils literal notranslate"><span class="pre">config.py</span></code> to, for instance,
call <code class="docutils literal notranslate"><span class="pre">argparse</span></code> and accept command line arguments.</p>
</section>
<section id="miscellaneous">
<h2>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline"></a></h2>
<p>We use <a class="reference external" href="https://www.python.org/dev/peps/pep-0484/">type hints</a> throughout the
code to allow for static type checking using <a class="reference external" href="http://mypy-lang.org/">mypy</a>. In
general this helps to catch bugs, and makes it clearer to folks unfamiliar with
the code what an object is, or what a function is doing.</p>
<p>Tests are written using <a class="reference external" href="https://pytest.org">pytest</a>.</p>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">1. Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#quickstart">1.1. Quickstart</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installation.html#troubleshooting">1.1.1. Troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="installation.html#optional-steps">1.1.2. Optional Steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#manual-installation">1.2. Manual Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#writing-documentation">1.3. Writing Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#building-python-3-9">1.4. Building Python 3.9</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="basic_usage.html">2. Basic Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="basic_usage.html#generating-a-training-dataset">2.1. Generating a Training Dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="basic_usage.html#training-a-model-san">2.2. Training a Model (SAN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="basic_usage.html#inferring-parameters">2.3. Inferring Parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sampling.html">3. Photometry Sampling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sampling.html#running-the-sampling-procedure">3.1. Running the Sampling Procedure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="sampling.html#free-parameter-configurations">3.1.1. Free Parameter Configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="sampling.html#sampling-parameters">3.1.2. Sampling Parameters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="inference.html">4. Inference Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="inference.html#using-the-models">4.1. Using the Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="inference.html#general-inference-parameters">4.1.1. General Inference Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="inference.html#model-parameters">4.1.2. Model Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="inference.html#training-the-models">4.1.3. Training the models</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="inference.html#creating-new-models">4.2. Creating New Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="inference.html#estimating-parameters">4.2.1. Estimating Parameters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="san_inference.html">5. Inferring Galaxy Parameters (SAN)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="san_inference.html#autoregressive-models-for-distribution-estimation">5.1. Autoregressive Models for Distribution Estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="san_inference.html#the-sequential-autoregressive-network">5.2. The Sequential Autoregressive Network</a><ul>
<li class="toctree-l3"><a class="reference internal" href="san_inference.html#using-the-san-model">5.2.1. Using the SAN Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="san_inference.html#references">5.3. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cvae_inference.html">6. Inferring Galaxy Parameters (CVAE)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cvae_inference.html#conditional-variational-autoencoders">6.1. (Conditional) Variational Autoencoders</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cvae_inference.html#latent-variable-models">6.1.1. Latent Variable Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="cvae_inference.html#lvm-objective">6.1.2. LVM Objective</a></li>
<li class="toctree-l3"><a class="reference internal" href="cvae_inference.html#sgd-elbo-optimisation">6.1.3. SGD ELBO Optimisation</a></li>
<li class="toctree-l3"><a class="reference internal" href="cvae_inference.html#likelihood">6.1.4. Likelihood</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cvae_inference.html#implementation">6.2. Implementation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cvae_inference.html#architecture-description-types-py">6.2.1. Architecture Description <code class="docutils literal notranslate"><span class="pre">types.py</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cvae_inference.html#base-cvae-classes-base-py">6.2.2. Base CVAE Classes <code class="docutils literal notranslate"><span class="pre">base.py</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cvae_inference.html#cvae-distributions-distributions-py">6.2.3. CVAE Distributions <code class="docutils literal notranslate"><span class="pre">distributions.py</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cvae_inference.html#agnfinder-cvae-classes-inference-py">6.2.4. AGNFinder CVAE Classes <code class="docutils literal notranslate"><span class="pre">inference.py</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cvae_inference.html#utility-classes-utils-py">6.2.5. Utility Classes <code class="docutils literal notranslate"><span class="pre">utils.py</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cvae_inference.html#cvae-configuration-config-py">6.2.6. CVAE Configuration <code class="docutils literal notranslate"><span class="pre">config.py</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cvae_inference.html#references">6.3. References</a></li>
</ul>
</li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-right" title="1. Installation Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>